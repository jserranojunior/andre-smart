CREATE VIEW dbo.View_protocolo_lista
AS
SELECT     dbo.TBL_protocolo.A002_numseq, dbo.TBL_protocolo.A053_codung, dbo.TBL_protocolo.A002_numpro, dbo.TBL_protocolo.A002_pacnom, 
                      dbo.TBL_protocolo.A002_pacreg, dbo.TBL_protocolo.A002_pacida, dbo.TBL_protocolo.A002_pacsex, dbo.TBL_protocolo.A054_codcon, 
                      dbo.TBL_protocolo.A002_datpro, MONTH(dbo.TBL_protocolo.A002_datpro) AS dt_mes, YEAR(dbo.TBL_protocolo.A002_datpro) AS dt_ano, 
                      dbo.TBL_protocolo.A002_horage, dbo.TBL_protocolo.A002_horini, dbo.TBL_protocolo.A002_horfin, dbo.TBL_protocolo.A056_codrac, 
                      dbo.TBL_protocolo.A057_codesp, dbo.TBL_protocolo.A002_limarm, dbo.TBL_protocolo.a002_tipage, dbo.TBL_unidades.A053_desung, 
                      dbo.TBL_unidades.nm_sigla, dbo.TBL_Rack.A056_desrac, dbo.TBL_Medicos.A055_crmmed, dbo.TBL_Medicos.A055_desmed, 
                      dbo.TBL_Convenios.A054_descon, dbo.TBL_Convenios.A054_status, dbo.TBL_Especialidades.A057_desesp, dbo.TBL_Especialidades.A057_status, 
                      dbo.TBL_Especialidades.A057_datcad, dbo.VIEW_protocolo_procedimentos_principais.A058_codpro, 
                      dbo.VIEW_protocolo_procedimentos_principais.A003_propri
FROM         dbo.TBL_protocolo INNER JOIN
                      dbo.TBL_unidades ON dbo.TBL_protocolo.A053_codung = dbo.TBL_unidades.A053_codung INNER JOIN
                      dbo.TBL_Rack ON dbo.TBL_protocolo.A056_codrac = dbo.TBL_Rack.A056_codrac INNER JOIN
                      dbo.TBL_Medicos ON dbo.TBL_protocolo.A055_codmed = dbo.TBL_Medicos.A055_codmed INNER JOIN
                      dbo.TBL_Convenios ON dbo.TBL_protocolo.A054_codcon = dbo.TBL_Convenios.A054_codcon INNER JOIN
                      dbo.TBL_Especialidades ON dbo.TBL_protocolo.A057_codesp = dbo.TBL_Especialidades.A057_codesp INNER JOIN
                      dbo.VIEW_protocolo_procedimentos_principais ON dbo.TBL_protocolo.A002_numseq = dbo.VIEW_protocolo_procedimentos_principais.A002_numseq

